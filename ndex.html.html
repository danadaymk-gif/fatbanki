<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∞—Ç –ë–∞–Ω–∫ - –°–∏–º—É–ª—è—Ç–æ—Ä –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- PWA –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="theme-color" content="#0047ab">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="–§–∞—Ç –ë–∞–Ω–∫">
    
    <link rel="manifest" href="app.webmanifest">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè¶</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè¶</text></svg>">
    
    <style>
        /* –í–µ—Å—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π CSS –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #0047ab;
            --primary-dark: #003580;
            --secondary: #ff6b00;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px 30px;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo i {
            font-size: 2.5rem;
        }

        .logo h1 {
            font-size: 1.8rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .balance {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .nav-panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            height: fit-content;
        }

        .nav-item {
            padding: 15px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-item:hover {
            background: var(--light);
            transform: translateX(5px);
        }

        .nav-item.active {
            background: var(--primary);
            color: white;
        }

        .screen {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .screen-title {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: var(--primary);
            border-bottom: 2px solid var(--light);
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e5eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: border 0.3s;
        }

        .form-control:focus {
            border-color: var(--primary);
            outline: none;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-warning {
            background: var(--warning);
            color: var(--dark);
        }

        .btn-sm {
            padding: 8px 15px;
            font-size: 0.9rem;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--primary);
        }

        .clicker-container {
            text-align: center;
            padding: 40px 20px;
        }

        .clicker-btn {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), #ff8c42);
            border: none;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            margin: 30px auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 10px 30px rgba(255, 107, 0, 0.3);
            transition: all 0.2s;
        }

        .clicker-btn:active {
            transform: scale(0.95);
        }

        .clicker-btn i {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 1001;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        .notification.success {
            background: var(--success);
        }

        .notification.error {
            background: var(--danger);
        }

        .notification.info {
            background: var(--primary);
        }

        /* –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨ */
        .admin-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border: 2px solid var(--primary);
        }

        .user-list {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .user-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .user-item:last-child {
            border-bottom: none;
        }

        .user-actions {
            display: flex;
            gap: 10px;
        }

        .card-number {
            font-family: monospace;
            background: #f8f9fa;
            padding: 5px 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 0.9rem;
        }

        .status-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-blocked {
            background: #f8d7da;
            color: #721c24;
        }

        .admin-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e1e5eb;
        }

        .admin-tab {
            padding: 12px 20px;
            background: none;
            border: none;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }

        .admin-tab.active {
            border-bottom: 3px solid var(--primary);
            font-weight: bold;
            color: var(--primary);
        }

        .admin-section {
            display: none;
        }

        .admin-section.active {
            display: block;
        }

        .question-item {
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .question-actions {
            margin-top: 10px;
        }

        /* –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ */
        .install-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 71, 171, 0.3);
            z-index: 999;
            display: flex;
            align-items: center;
            gap: 10px;
            display: none;
        }

        .install-btn.show {
            display: flex;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .install-btn {
                bottom: 10px;
                right: 10px;
                left: 10px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA -->
    <button id="installButton" class="install-btn">
        <i class="fas fa-download"></i> –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫
    </button>

    <!-- –≠–∫—Ä–∞–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
    <div id="authScreen" class="container">
        <div class="auth-container" style="max-width: 400px; margin: 50px auto; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
            <div class="logo" style="justify-content: center; margin-bottom: 30px;">
                <i class="fas fa-university"></i>
                <h1>–§–∞—Ç –ë–∞–Ω–∫</h1>
            </div>
            
            <div style="display: flex; margin-bottom: 30px;">
                <button class="auth-tab active" id="loginTab" style="flex: 1; padding: 15px; background: var(--primary); color: white; border: none; cursor: pointer;">–í—Ö—ñ–¥</button>
                <button class="auth-tab" id="registerTab" style="flex: 1; padding: 15px; background: var(--light); border: none; cursor: pointer;">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
            </div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="loginPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">–£–≤—ñ–π—Ç–∏</button>
            </form>
            
            <form id="registerForm" style="display: none;">
                <div class="form-group">
                    <label for="registerName">–Ü–º'—è:</label>
                    <input type="text" id="registerName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email:</label>
                    <input type="email" id="registerEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">–ü–∞—Ä–æ–ª—å (–º—ñ–Ω. 6 —Å–∏–º–≤–æ–ª—ñ–≤):</label>
                    <input type="password" id="registerPassword" class="form-control" required minlength="6">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
            </form>
            
            <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ -->
            <div style="margin-top: 30px; padding: 15px; background: #f8f9fa; border-radius: 8px; font-size: 0.9rem;">
                <p><strong>–Ø–∫ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω:</strong></p>
                <ol style="margin-left: 20px; margin-top: 10px;">
                    <li>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É "–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫"</li>
                    <li>–ê–±–æ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ (‚ãÆ)</li>
                    <li>–í–∏–±–µ—Ä—ñ—Ç—å "–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫"</li>
                </ol>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–∞–Ω–∫–∞ -->
    <div id="bankApp" class="container" style="display: none;">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-university"></i>
                <h1>–§–∞—Ç –ë–∞–Ω–∫</h1>
            </div>
            <div class="user-info">
                <div class="balance">
                    –ë–∞–ª–∞–Ω—Å: <span id="currentBalance">0</span> ‚Ç¥
                </div>
                <button class="btn btn-primary" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> –í–∏–π—Ç–∏
                </button>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content">
            <!-- –ü–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
            <nav class="nav-panel">
                <div class="nav-item active" data-screen="dashboard">
                    <i class="fas fa-home"></i> –ì–æ–ª–æ–≤–Ω–∞
                </div>
                <div class="nav-item" data-screen="clicker">
                    <i class="fas fa-mouse-pointer"></i> –ö–ª—ñ–∫–µ—Ä (1‚Ç¥ –∑–∞ –∫–ª—ñ–∫)
                </div>
                <div class="nav-item" data-screen="loans">
                    <i class="fas fa-credit-card"></i> –ö—Ä–µ–¥–∏—Ç–∏
                </div>
                <div class="nav-item" data-screen="transfer">
                    <i class="fas fa-exchange-alt"></i> –ü–µ—Ä–µ–∫–∞–∑
                </div>
                <div class="nav-item" data-screen="support">
                    <i class="fas fa-headset"></i> –ü—ñ–¥—Ç—Ä–∏–º–∫–∞
                </div>
                <div class="nav-item" id="adminNavItem" style="display: none;" data-screen="admin">
                    <i class="fas fa-user-shield"></i> –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
                </div>
            </nav>

            <!-- –≠–∫—Ä–∞–Ω—ã -->
            <div class="screens">
                <!-- –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
                <div id="dashboardScreen" class="screen active">
                    <h2 class="screen-title">–ì–æ–ª–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å</h2>
                    <div class="card">
                        <h3>–í—ñ—Ç–∞—î–º–æ, <span id="userName"></span>!</h3>
                        <p>–§–∞—Ç –ë–∞–Ω–∫ - –≤–∞—à –Ω–∞–¥—ñ–π–Ω–∏–π —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –ø–∞—Ä—Ç–Ω–µ—Ä.</p>
                        <div style="margin-top: 15px;">
                            <p><strong>–ù–æ–º–µ—Ä –≤–∞—à–æ—ó –∫–∞—Ä—Ç–∫–∏:</strong></p>
                            <div class="card-number" style="font-size: 1.2rem; padding: 10px; margin-top: 5px;" id="userCardNumber">
                                –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>–®–≤–∏–¥–∫—ñ –¥—ñ—ó</h3>
                        <div style="display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap;">
                            <button class="btn btn-primary" data-screen="clicker">
                                <i class="fas fa-mouse-pointer"></i> –ó–∞—Ä–æ–±–∏—Ç–∏ –∫–ª—ñ–∫–∞–º–∏
                            </button>
                            <button class="btn btn-success" data-screen="loans">
                                <i class="fas fa-credit-card"></i> –û—Ñ–æ—Ä–º–∏—Ç–∏ –∫—Ä–µ–¥–∏—Ç
                            </button>
                            <button class="btn btn-primary" data-screen="transfer">
                                <i class="fas fa-exchange-alt"></i> –ó—Ä–æ–±–∏—Ç–∏ –ø–µ—Ä–µ–∫–∞–∑
                            </button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>–í–∞—à–∞ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; margin-top: 15px;">
                            <div>
                                <h4>–ü–æ—Ç–æ—á–Ω–∏–π –±–∞–ª–∞–Ω—Å</h4>
                                <p style="font-size: 1.5rem; font-weight: bold; color: var(--primary);" id="dashboardBalance">0 ‚Ç¥</p>
                            </div>
                            <div>
                                <h4>–ê–∫—Ç–∏–≤–Ω—ñ –∫—Ä–µ–¥–∏—Ç–∏</h4>
                                <p style="font-size: 1.5rem; font-weight: bold; color: var(--danger);" id="activeLoansCount">0</p>
                            </div>
                            <div>
                                <h4>–ó–∞–≥–∞–ª—å–Ω–∏–π –¥–æ—Ö—ñ–¥</h4>
                                <p style="font-size: 1.5rem; font-weight: bold; color: var(--success);" id="totalIncome">0 ‚Ç¥</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ö–ª–∏–∫–µ—Ä -->
                <div id="clickerScreen" class="screen">
                    <h2 class="screen-title">–ö–ª—ñ–∫–µ—Ä –¥–ª—è –∑–∞—Ä–æ–±—ñ—Ç–∫—É</h2>
                    <div class="clicker-container">
                        <p>–ö–ª—ñ–∫–∞–π—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂—á–µ, —â–æ–± –∑–∞—Ä–æ–±–ª—è—Ç–∏ –≥—Ä–æ—à—ñ. –ö–æ–∂–µ–Ω –∫–ª—ñ–∫ = 1 –≥—Ä–∏–≤–Ω—è.</p>
                        <p>–í–∞—à –±–∞–ª–∞–Ω—Å: <strong id="clickerBalance">0</strong> ‚Ç¥</p>
                        <p>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª—ñ–∫—ñ–≤: <strong id="clickCount">0</strong></p>
                        
                        <button class="clicker-btn" id="clickerButton">
                            <i class="fas fa-money-bill-wave"></i>
                            –ö–ª—ñ–∫–Ω–∏ —Ç—É—Ç!
                            <span style="font-size: 0.9rem; margin-top: 5px;">+1 ‚Ç¥ –∑–∞ –∫–ª—ñ–∫</span>
                        </button>
                    </div>
                </div>

                <!-- –ö—Ä–µ–¥–∏—Ç—ã -->
                <div id="loansScreen" class="screen">
                    <h2 class="screen-title">–ö—Ä–µ–¥–∏—Ç–∏</h2>
                    
                    <div class="card">
                        <h3>–û—Ñ–æ—Ä–º–∏—Ç–∏ –Ω–æ–≤–∏–π –∫—Ä–µ–¥–∏—Ç</h3>
                        <div class="form-group">
                            <label for="loanAmount">–°—É–º–∞ –∫—Ä–µ–¥–∏—Ç—É (‚Ç¥):</label>
                            <input type="number" id="loanAmount" class="form-control" min="100" max="10000" value="1000">
                        </div>
                        <div class="form-group">
                            <label for="loanTerm">–¢–µ—Ä–º—ñ–Ω (–º—ñ—Å—è—Ü—ñ–≤):</label>
                            <select id="loanTerm" class="form-control">
                                <option value="3">3 –º—ñ—Å—è—Ü—ñ (5%)</option>
                                <option value="6">6 –º—ñ—Å—è—Ü—ñ–≤ (10%)</option>
                                <option value="12">12 –º—ñ—Å—è—Ü—ñ–≤ (20%)</option>
                            </select>
                        </div>
                        <button class="btn btn-success" id="applyLoan">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∫—Ä–µ–¥–∏—Ç</button>
                    </div>
                    
                    <div class="card">
                        <h3>–í–∞—à—ñ –∞–∫—Ç–∏–≤–Ω—ñ –∫—Ä–µ–¥–∏—Ç–∏</h3>
                        <div id="activeLoansList">
                            <p>–£ –≤–∞—Å –Ω–µ–º–∞—î –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫—Ä–µ–¥–∏—Ç—ñ–≤.</p>
                        </div>
                    </div>
                </div>

                <!-- –ü–µ—Ä–µ–≤–æ–¥—ã -->
                <div id="transferScreen" class="screen">
                    <h2 class="screen-title">–ü–µ—Ä–µ–∫–∞–∑ –∫–æ—à—Ç—ñ–≤</h2>
                    
                    <div class="card">
                        <h3>–ù–æ–≤–∏–π –ø–µ—Ä–µ–∫–∞–∑</h3>
                        <div class="form-group">
                            <label for="recipientCard">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç–∫–∏ –æ—Ç—Ä–∏–º—É–≤–∞—á–∞:</label>
                            <input type="text" id="recipientCard" class="form-control" placeholder="0000 0000 0000 0000">
                        </div>
                        <div class="form-group">
                            <label for="transferAmount">–°—É–º–∞ (‚Ç¥):</label>
                            <input type="number" id="transferAmount" class="form-control" min="1">
                        </div>
                        <button class="btn btn-primary" id="sendTransfer">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø–µ—Ä–µ–∫–∞–∑</button>
                    </div>
                    
                    <div class="card">
                        <h3>–Ü—Å—Ç–æ—Ä—ñ—è –ø–µ—Ä–µ–∫–∞–∑—ñ–≤</h3>
                        <div id="transferHistory">
                            <p>–£ –≤–∞—Å —â–µ –Ω–µ–º–∞—î –ø–µ—Ä–µ–∫–∞–∑—ñ–≤.</p>
                        </div>
                    </div>
                </div>

                <!-- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ -->
                <div id="supportScreen" class="screen">
                    <h2 class="screen-title">–¢–µ—Ö–Ω—ñ—á–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞</h2>
                    
                    <div class="card">
                        <h3>–ó–≤'—è–∑–∞—Ç–∏—Å—è –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é</h3>
                        <div class="form-group">
                            <label for="supportSubject">–¢–µ–º–∞:</label>
                            <input type="text" id="supportSubject" class="form-control" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ü—Ä–æ–±–ª–µ–º–∞ –∑ –∫—Ä–µ–¥–∏—Ç–æ–º">
                        </div>
                        <div class="form-group">
                            <label for="supportMessage">–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:</label>
                            <textarea id="supportMessage" class="form-control" rows="5" placeholder="–û–ø–∏—à—ñ—Ç—å –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É..."></textarea>
                        </div>
                        <button class="btn btn-primary" id="sendSupport">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–ø–∏—Ç</button>
                    </div>
                </div>

                <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
                <div id="adminScreen" class="screen">
                    <h2 class="screen-title">–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å</h2>
                    
                    <div class="admin-tabs">
                        <button class="admin-tab active" data-admin-tab="users">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</button>
                        <button class="admin-tab" data-admin-tab="support">–ü—ñ–¥—Ç—Ä–∏–º–∫–∞</button>
                        <button class="admin-tab" data-admin-tab="money">–§—ñ–Ω–∞–Ω—Å–∏</button>
                    </div>
                    
                    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
                    <div id="adminUsers" class="admin-section active">
                        <div class="admin-card">
                            <h3>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏</h3>
                            <div class="user-list" id="adminUsersList">
                                <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –í–æ–ø—Ä–æ—Å—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ -->
                    <div id="adminSupport" class="admin-section">
                        <div class="admin-card">
                            <h3>–ó–∞–ø–∏—Ç–∏ –≤ –ø—ñ–¥—Ç—Ä–∏–º–∫—É</h3>
                            <div id="adminSupportList">
                                <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –§–∏–Ω–∞–Ω—Å—ã -->
                    <div id="adminMoney" class="admin-section">
                        <div class="admin-card">
                            <h3>–ö–µ—Ä—É–≤–∞–Ω–Ω—è –≥—Ä–æ—à–∏–º–∞</h3>
                            <div class="form-group">
                                <label for="adminUserSelect">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á:</label>
                                <select id="adminUserSelect" class="form-control">
                                    <option value="">–û–±–µ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="adminAmount">–°—É–º–∞ (‚Ç¥):</label>
                                <input type="number" id="adminAmount" class="form-control" min="1" max="1000000" value="100">
                            </div>
                            <div class="form-group">
                                <label>–¢–∏–ø –æ–ø–µ—Ä–∞—Ü—ñ—ó:</label>
                                <div style="display: flex; gap: 10px;">
                                    <button class="btn btn-success" id="addMoneyBtn">–ù–∞—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
                                    <button class="btn btn-danger" id="removeMoneyBtn">–°–ø–∏—Å–∞—Ç–∏</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div id="notification" class="notification" style="display: none;"></div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle"></h3>
            <p id="modalMessage"></p>
            <div id="modalContent"></div>
            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <button class="btn btn-primary" id="modalConfirm">OK</button>
                <button class="btn btn-secondary" id="modalCancel">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª manifest.json –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
    <script type="application/json" id="manifestJSON">
        {
            "name": "–§–∞—Ç –ë–∞–Ω–∫",
            "short_name": "–§–∞—Ç –ë–∞–Ω–∫",
            "description": "–°–∏–º—É–ª—è—Ç–æ—Ä –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π",
            "start_url": "./index.html",
            "display": "standalone",
            "background_color": "#0047ab",
            "theme_color": "#0047ab",
            "orientation": "portrait",
            "icons": [
                {
                    "src": "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/svgs/solid/university.svg",
                    "sizes": "72x72 96x96 128x128 144x144 152x152 192x192 384x384 512x512",
                    "type": "image/svg+xml",
                    "purpose": "any maskable"
                }
            ]
        }
    </script>

    <script>
        // –ü—Ä–æ—Å—Ç–æ–π –±–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å–∏–º—É–ª—è—Ç–æ—Ä
        const BankApp = {
            currentUser: null,
            users: JSON.parse(localStorage.getItem('fat_bank_users')) || [],
            loans: JSON.parse(localStorage.getItem('fat_bank_loans')) || [],
            transfers: JSON.parse(localStorage.getItem('fat_bank_transfers')) || [],
            supportRequests: JSON.parse(localStorage.getItem('fat_bank_support')) || [],
            adminLogs: JSON.parse(localStorage.getItem('fat_bank_admin_logs')) || [],
            deferredPrompt: null,
            
            init() {
                this.loadData();
                this.setupEventListeners();
                this.initPWA();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
                const activeUser = localStorage.getItem('fat_bank_active_user');
                if (activeUser) {
                    this.currentUser = JSON.parse(activeUser);
                    this.showBankApp();
                } else {
                    this.showAuthScreen();
                }
                
                // –°–æ–∑–¥–∞–µ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                this.createDefaultAdmin();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
                this.showInstallInstructions();
            },
            
            loadData() {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
                const savedUsers = localStorage.getItem('fat_bank_users');
                if (savedUsers) this.users = JSON.parse(savedUsers);
                
                const savedLoans = localStorage.getItem('fat_bank_loans');
                if (savedLoans) this.loans = JSON.parse(savedLoans);
                
                const savedTransfers = localStorage.getItem('fat_bank_transfers');
                if (savedTransfers) this.transfers = JSON.parse(savedTransfers);
                
                const savedSupport = localStorage.getItem('fat_bank_support');
                if (savedSupport) this.supportRequests = JSON.parse(savedSupport);
            },
            
            createDefaultAdmin() {
                if (!this.users.find(u => u.email === 'admin@fatbank.com')) {
                    const adminCard = this.generateCardNumber();
                    this.users.push({
                        id: this.generateId(),
                        name: '–ê–¥–º—ñ–Ω',
                        email: 'admin@fatbank.com',
                        password: 'admin123',
                        balance: 1000000,
                        totalEarned: 1000000,
                        clicks: 0,
                        isAdmin: true,
                        cardNumber: adminCard,
                        isCardBlocked: false,
                        joinDate: new Date().toISOString()
                    });
                    this.saveUsers();
                }
            },
            
            generateId() {
                return Date.now().toString(36) + Math.random().toString(36).substr(2);
            },
            
            generateCardNumber() {
                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã: 16 —Ü–∏—Ñ—Ä
                let card = '';
                for (let i = 0; i < 16; i++) {
                    card += Math.floor(Math.random() * 10);
                    if ((i + 1) % 4 === 0 && i !== 15) card += ' ';
                }
                return card;
            },
            
            saveUsers() {
                localStorage.setItem('fat_bank_users', JSON.stringify(this.users));
            },
            
            saveLoans() {
                localStorage.setItem('fat_bank_loans', JSON.stringify(this.loans));
            },
            
            saveTransfers() {
                localStorage.setItem('fat_bank_transfers', JSON.stringify(this.transfers));
            },
            
            saveSupport() {
                localStorage.setItem('fat_bank_support', JSON.stringify(this.supportRequests));
            },
            
            saveAdminLogs() {
                localStorage.setItem('fat_bank_admin_logs', JSON.stringify(this.adminLogs));
            },
            
            showAuthScreen() {
                document.getElementById('authScreen').style.display = 'block';
                document.getElementById('bankApp').style.display = 'none';
            },
            
            showBankApp() {
                document.getElementById('authScreen').style.display = 'none';
                document.getElementById('bankApp').style.display = 'block';
                this.updateUserInfo();
                this.showScreen('dashboard');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –µ—Å–ª–∏ —ç—Ç–æ –∞–¥–º–∏–Ω
                if (this.currentUser && this.currentUser.isAdmin) {
                    document.getElementById('adminNavItem').style.display = 'flex';
                }
            },
            
            updateUserInfo() {
                if (!this.currentUser) return;
                
                document.getElementById('currentBalance').textContent = this.currentUser.balance;
                document.getElementById('dashboardBalance').textContent = this.currentUser.balance + ' ‚Ç¥';
                document.getElementById('userName').textContent = this.currentUser.name;
                document.getElementById('clickerBalance').textContent = this.currentUser.balance;
                document.getElementById('clickCount').textContent = this.currentUser.clicks || 0;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã
                if (this.currentUser.cardNumber) {
                    document.getElementById('userCardNumber').textContent = this.currentUser.cardNumber;
                } else {
                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–∞—Ä—Ç—É –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç
                    this.currentUser.cardNumber = this.generateCardNumber();
                    this.updateUserInStorage();
                    document.getElementById('userCardNumber').textContent = this.currentUser.cardNumber;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                const userLoans = this.loans.filter(loan => loan.userId === this.currentUser.id && !loan.paid);
                document.getElementById('activeLoansCount').textContent = userLoans.length;
                document.getElementById('totalIncome').textContent = (this.currentUser.totalEarned || 0) + ' ‚Ç¥';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ–≤
                this.updateLoansList();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–≤–æ–¥–æ–≤
                this.updateTransferHistory();
            },
            
            showScreen(screenName) {
                // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
                document.querySelectorAll('.screen').forEach(screen => {
                    screen.classList.remove('active');
                });
                
                // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
                document.getElementById(screenName + 'Screen').classList.add('active');
                
                // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø—É–Ω–∫—Ç –º–µ–Ω—é
                document.querySelector(`.nav-item[data-screen="${screenName}"]`).classList.add('active');
                
                // –ï—Å–ª–∏ —ç—Ç–æ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å, –æ–±–Ω–æ–≤–ª—è–µ–º –µ–µ
                if (screenName === 'admin' && this.currentUser.isAdmin) {
                    this.updateAdminPanel();
                }
            },
            
            showNotification(message, type = 'info') {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.className = `notification ${type}`;
                notification.style.display = 'block';
                
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 3000);
            },
            
            register(name, email, password) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
                if (this.users.find(u => u.email === email)) {
                    this.showNotification('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ —Ç–∞–∫–∏–º email –≤–∂–µ —ñ—Å–Ω—É—î', 'error');
                    return false;
                }
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã
                const cardNumber = this.generateCardNumber();
                
                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const newUser = {
                    id: this.generateId(),
                    name: name,
                    email: email,
                    password: password,
                    balance: 100, // –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
                    totalEarned: 100,
                    clicks: 0,
                    isAdmin: false,
                    cardNumber: cardNumber,
                    isCardBlocked: false,
                    joinDate: new Date().toISOString()
                };
                
                this.users.push(newUser);
                this.saveUsers();
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏–º
                this.currentUser = newUser;
                localStorage.setItem('fat_bank_active_user', JSON.stringify(newUser));
                
                this.showNotification('–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–æ–π—à–ª–∞ —É—Å–ø—ñ—à–Ω–æ! –í–∞–º –Ω–∞—Ä–∞—Ö–æ–≤–∞–Ω–æ 100 ‚Ç¥ –Ω–∞ –±–∞–ª–∞–Ω—Å.', 'success');
                this.showBankApp();
                
                return true;
            },
            
            login(email, password) {
                const user = this.users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –ª–∏ –∫–∞—Ä—Ç–∞
                    if (user.isCardBlocked) {
                        this.showNotification('–í–∞—à–∞ –∫–∞—Ä—Ç–∫–∞ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.', 'error');
                        return false;
                    }
                    
                    this.currentUser = user;
                    localStorage.setItem('fat_bank_active_user', JSON.stringify(user));
                    
                    this.showBankApp();
                    return true;
                } else {
                    this.showNotification('–ù–µ–≤—ñ—Ä–Ω–∏–π email –∞–±–æ –ø–∞—Ä–æ–ª—å', 'error');
                    return false;
                }
            },
            
            logout() {
                this.currentUser = null;
                localStorage.removeItem('fat_bank_active_user');
                this.showAuthScreen();
            },
            
            handleClick() {
                if (!this.currentUser) return;
                
                this.currentUser.balance += 1;
                this.currentUser.totalEarned = (this.currentUser.totalEarned || 0) + 1;
                this.currentUser.clicks = (this.currentUser.clicks || 0) + 1;
                
                this.updateUserInStorage();
                this.updateUserInfo();
            },
            
            applyLoan(amount, term) {
                if (!this.currentUser) return;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—É–º–º—É –∫—Ä–µ–¥–∏—Ç–∞
                const maxLoan = this.currentUser.totalEarned >= 1000 ? 10000 : 1000;
                if (amount > maxLoan) {
                    this.showNotification(`–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Å—É–º–∞ –∫—Ä–µ–¥–∏—Ç—É: ${maxLoan} ‚Ç¥`, 'error');
                    return;
                }
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç—ã
                let interestRate;
                switch (parseInt(term)) {
                    case 3: interestRate = 0.05; break;
                    case 6: interestRate = 0.10; break;
                    case 12: interestRate = 0.20; break;
                    default: interestRate = 0.10;
                }
                
                const totalAmount = amount + (amount * interestRate);
                const monthlyPayment = totalAmount / term;
                
                // –°–æ–∑–¥–∞–µ–º –∫—Ä–µ–¥–∏—Ç
                const loan = {
                    id: this.generateId(),
                    userId: this.currentUser.id,
                    amount: amount,
                    term: term,
                    interestRate: interestRate,
                    totalAmount: totalAmount,
                    monthlyPayment: monthlyPayment,
                    remainingAmount: totalAmount,
                    paymentsLeft: term,
                    takenDate: new Date().toISOString(),
                    paid: false
                };
                
                // –ó–∞—á–∏—Å–ª—è–µ–º –¥–µ–Ω—å–≥–∏ –Ω–∞ –±–∞–ª–∞–Ω—Å
                this.currentUser.balance += amount;
                this.updateUserInStorage();
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫—Ä–µ–¥–∏—Ç
                this.loans.push(loan);
                this.saveLoans();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                this.updateUserInfo();
                this.updateLoansList();
                
                this.showNotification(`–ö—Ä–µ–¥–∏—Ç –Ω–∞ —Å—É–º—É ${amount} ‚Ç¥ –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ`, 'success');
            },
            
            updateLoansList() {
                if (!this.currentUser) return;
                
                const userLoans = this.loans.filter(loan => loan.userId === this.currentUser.id && !loan.paid);
                const loansList = document.getElementById('activeLoansList');
                
                if (userLoans.length === 0) {
                    loansList.innerHTML = '<p>–£ –≤–∞—Å –Ω–µ–º–∞—î –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫—Ä–µ–¥–∏—Ç—ñ–≤.</p>';
                    return;
                }
                
                let html = '';
                userLoans.forEach(loan => {
                    html += `
                        <div style="padding: 15px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 10px;">
                            <p><strong>–°—É–º–∞:</strong> ${loan.amount} ‚Ç¥</p>
                            <p><strong>–¢–µ—Ä–º—ñ–Ω:</strong> ${loan.term} –º—ñ—Å.</p>
                            <p><strong>–ó–∞–ª–∏—à–∏–ª–æ—Å—å —Å–ø–ª–∞—Ç–∏—Ç–∏:</strong> ${loan.remainingAmount.toFixed(2)} ‚Ç¥</p>
                            <p><strong>–©–æ–º—ñ—Å—è—á–Ω–∏–π –ø–ª–∞—Ç—ñ–∂:</strong> ${loan.monthlyPayment.toFixed(2)} ‚Ç¥</p>
                            <button class="btn btn-sm btn-success pay-loan" data-loan-id="${loan.id}" style="margin-top: 10px;">–°–ø–ª–∞—Ç–∏—Ç–∏ –º—ñ—Å—è—Ü—å</button>
                        </div>
                    `;
                });
                
                loansList.innerHTML = html;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –æ–ø–ª–∞—Ç—ã
                document.querySelectorAll('.pay-loan').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const loanId = e.target.getAttribute('data-loan-id');
                        this.payLoan(loanId);
                    });
                });
            },
            
            payLoan(loanId) {
                const loan = this.loans.find(l => l.id === loanId);
                if (!loan) return;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –¥–µ–Ω–µ–≥
                if (this.currentUser.balance < loan.monthlyPayment) {
                    this.showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤ –¥–ª—è –æ–ø–ª–∞—Ç–∏ –∫—Ä–µ–¥–∏—Ç—É', 'error');
                    return;
                }
                
                // –°–ø–∏—Å—ã–≤–∞–µ–º –¥–µ–Ω—å–≥–∏
                this.currentUser.balance -= loan.monthlyPayment;
                loan.remainingAmount -= loan.monthlyPayment;
                loan.paymentsLeft--;
                
                // –ï—Å–ª–∏ –∫—Ä–µ–¥–∏—Ç –ø–æ–≥–∞—à–µ–Ω
                if (loan.paymentsLeft <= 0) {
                    loan.paid = true;
                    this.showNotification('–í–∏ —É—Å–ø—ñ—à–Ω–æ –ø–æ–≥–∞—Å–∏–ª–∏ –∫—Ä–µ–¥–∏—Ç!', 'success');
                } else {
                    this.showNotification(`–û–ø–ª–∞—Ç–∞ –∫—Ä–µ–¥–∏—Ç—É –ø—Ä–∏–π–Ω—è—Ç–∞. –ó–∞–ª–∏—à–∏–ª–æ—Å—å ${loan.paymentsLeft} –ø–ª–∞—Ç–µ–∂—ñ–≤`, 'success');
                }
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
                this.updateUserInStorage();
                this.saveLoans();
                this.updateUserInfo();
            },
            
            sendTransfer(recipientCard, amount) {
                if (!this.currentUser) return;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                if (!recipientCard || !amount) {
                    this.showNotification('–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è', 'error');
                    return;
                }
                
                // –û—á–∏—â–∞–µ–º –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –æ—Ç –ø—Ä–æ–±–µ–ª–æ–≤
                recipientCard = recipientCard.replace(/\s/g, '');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è
                const recipient = this.users.find(u => u.cardNumber && u.cardNumber.replace(/\s/g, '') === recipientCard);
                if (!recipient) {
                    this.showNotification('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —Ç–∞–∫–æ—é –∫–∞—Ä—Ç–∫–æ—é –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
                    return;
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –ª–∏ –∫–∞—Ä—Ç–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
                if (recipient.isCardBlocked) {
                    this.showNotification('–ö–∞—Ä—Ç–∫–∞ –æ—Ç—Ä–∏–º—É–≤–∞—á–∞ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞', 'error');
                    return;
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É–º–º—É
                amount = parseFloat(amount);
                if (isNaN(amount) || amount <= 0) {
                    this.showNotification('–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—É —Å—É–º—É', 'error');
                    return;
                }
                
                if (this.currentUser.balance < amount) {
                    this.showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å—ñ', 'error');
                    return;
                }
                
                // –í—ã–ø–æ–ª–Ω—è–µ–º –ø–µ—Ä–µ–≤–æ–¥
                this.currentUser.balance -= amount;
                recipient.balance += amount;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–µ—Ä–µ–≤–æ–¥
                const transfer = {
                    id: this.generateId(),
                    fromUserId: this.currentUser.id,
                    fromUserName: this.currentUser.name,
                    toUserId: recipient.id,
                    toUserName: recipient.name,
                    amount: amount,
                    date: new Date().toISOString()
                };
                
                this.transfers.push(transfer);
                this.saveTransfers();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                this.updateUserInStorage();
                this.updateUserInStorage(recipient);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                this.updateUserInfo();
                this.updateTransferHistory();
                
                this.showNotification(`–ü–µ—Ä–µ–∫–∞–∑ –Ω–∞ —Å—É–º—É ${amount} ‚Ç¥ –≤–∏–∫–æ–Ω–∞–Ω–æ`, 'success');
                
                // –û—á–∏—â–∞–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º—ã
                document.getElementById('recipientCard').value = '';
                document.getElementById('transferAmount').value = '';
            },
            
            updateTransferHistory() {
                if (!this.currentUser) return;
                
                const userTransfers = this.transfers.filter(t => 
                    t.fromUserId === this.currentUser.id || t.toUserId === this.currentUser.id
                );
                
                const transferHistory = document.getElementById('transferHistory');
                
                if (userTransfers.length === 0) {
                    transferHistory.innerHTML = '<p>–£ –≤–∞—Å —â–µ –Ω–µ–º–∞—î –ø–µ—Ä–µ–∫–∞–∑—ñ–≤.</p>';
                    return;
                }
                
                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
                userTransfers.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                let html = '';
                userTransfers.forEach(transfer => {
                    const isOutgoing = transfer.fromUserId === this.currentUser.id;
                    const date = new Date(transfer.date).toLocaleDateString('uk-UA');
                    
                    html += `
                        <div style="padding: 10px; border-bottom: 1px solid #eee;">
                            <p><strong>${date}</strong> - ${isOutgoing ? '–í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ' : '–û—Ç—Ä–∏–º–∞–Ω–æ'}</p>
                            <p>${isOutgoing ? transfer.toUserName : transfer.fromUserName}</p>
                            <p style="color: ${isOutgoing ? 'var(--danger)' : 'var(--success)'}; font-weight: bold;">
                                ${isOutgoing ? '-' : '+'}${transfer.amount} ‚Ç¥
                            </p>
                        </div>
                    `;
                });
                
                transferHistory.innerHTML = html;
            },
            
            sendSupportRequest(subject, message) {
                if (!this.currentUser) return;
                
                if (!subject || !message) {
                    this.showNotification('–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è', 'error');
                    return;
                }
                
                const request = {
                    id: this.generateId(),
                    userId: this.currentUser.id,
                    userName: this.currentUser.name,
                    userEmail: this.currentUser.email,
                    subject: subject,
                    message: message,
                    date: new Date().toISOString(),
                    status: 'new',
                    answer: ''
                };
                
                this.supportRequests.push(request);
                this.saveSupport();
                
                // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                document.getElementById('supportSubject').value = '';
                document.getElementById('supportMessage').value = '';
                
                this.showNotification('–í–∞—à –∑–∞–ø–∏—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ', 'success');
            },
            
            // –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨
            updateAdminPanel() {
                if (!this.currentUser || !this.currentUser.isAdmin) return;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                this.updateAdminUsersList();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
                this.updateAdminSupportList();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
                this.updateAdminUserSelect();
            },
            
            updateAdminUsersList() {
                let html = '';
                
                this.users.forEach(user => {
                    if (user.isAdmin) return; // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω–æ–≤ –≤ —Å–ø–∏—Å–∫–µ
                    
                    html += `
                        <div class="user-item">
                            <div>
                                <p><strong>${user.name}</strong> (${user.email})</p>
                                <p>–ö–∞—Ä—Ç–∫–∞: <span class="card-number">${user.cardNumber || '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞'}</span></p>
                                <p>–ë–∞–ª–∞–Ω—Å: ${user.balance} ‚Ç¥ | –ö–ª—ñ–∫—ñ–≤: ${user.clicks || 0}</p>
                                <span class="status-badge ${user.isCardBlocked ? 'status-blocked' : 'status-active'}">
                                    ${user.isCardBlocked ? '–ó–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞' : '–ê–∫—Ç–∏–≤–Ω–∞'}
                                </span>
                            </div>
                            <div class="user-actions">
                                ${user.isCardBlocked ? 
                                    `<button class="btn btn-sm btn-success unblock-card" data-user-id="${user.id}">
                                        <i class="fas fa-unlock"></i> –†–æ–∑–±–ª–æ–∫—É–≤–∞—Ç–∏
                                    </button>` :
                                    `<button class="btn btn-sm btn-danger block-card" data-user-id="${user.id}">
                                        <i class="fas fa-lock"></i> –ó–∞–±–ª–æ–∫—É–≤–∞—Ç–∏
                                    </button>`
                                }
                            </div>
                        </div>
                    `;
                });
                
                if (html === '') {
                    html = '<p>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.</p>';
                }
                
                document.getElementById('adminUsersList').innerHTML = html;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
                this.setupAdminUserButtons();
            },
            
            updateAdminSupportList() {
                const newRequests = this.supportRequests.filter(req => req.status === 'new');
                let html = '';
                
                newRequests.forEach(request => {
                    html += `
                        <div class="question-item">
                            <p><strong>${request.userName}</strong> (${request.userEmail})</p>
                            <p><strong>–¢–µ–º–∞:</strong> ${request.subject}</p>
                            <p>${request.message}</p>
                            <div class="question-actions">
                                <textarea id="answer_${request.id}" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å..." style="width: 100%; padding: 10px; margin-bottom: 10px;"></textarea>
                                <button class="btn btn-sm btn-primary answer-question" data-request-id="${request.id}">
                                    <i class="fas fa-reply"></i> –í—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                if (html === '') {
                    html = '<p>–ù–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –Ω–µ–º–∞—î.</p>';
                }
                
                document.getElementById('adminSupportList').innerHTML = html;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤
                document.querySelectorAll('.answer-question').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const requestId = e.target.getAttribute('data-request-id');
                        const answer = document.getElementById(`answer_${requestId}`).value;
                        
                        if (!answer.trim()) {
                            this.showNotification('–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ', 'error');
                            return;
                        }
                        
                        this.answerSupportRequest(requestId, answer);
                    });
                });
            },
            
            updateAdminUserSelect() {
                const select = document.getElementById('adminUserSelect');
                let html = '<option value="">–û–±–µ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞...</option>';
                
                this.users.forEach(user => {
                    if (!user.isAdmin) {
                        html += `<option value="${user.id}">${user.name} - ${user.balance} ‚Ç¥</option>`;
                    }
                });
                
                select.innerHTML = html;
            },
            
            answerSupportRequest(requestId, answer) {
                const request = this.supportRequests.find(r => r.id === requestId);
                if (!request) return false;
                
                request.status = 'answered';
                request.answer = answer;
                request.answeredBy = this.currentUser.name;
                request.answerDate = new Date().toISOString();
                
                this.saveSupport();
                
                this.showNotification('–í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞', 'success');
                this.updateAdminSupportList();
                
                return true;
            },
            
            toggleCardBlock(userId, block) {
                const user = this.users.find(u => u.id === userId);
                if (!user) return false;
                
                user.isCardBlocked = block;
                this.updateUserInStorage(user);
                
                this.showNotification(
                    `–ö–∞—Ä—Ç–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ${user.name} ${block ? '–∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞' : '—Ä–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–∞'}`,
                    block ? 'error' : 'success'
                );
                
                this.updateAdminUsersList();
                return true;
            },
            
            addMoneyToUser(userId, amount) {
                const user = this.users.find(u => u.id === userId);
                if (!user) {
                    this.showNotification('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
                    return false;
                }
                
                user.balance += amount;
                this.updateUserInStorage(user);
                
                this.showNotification(`–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—É ${user.name} –Ω–∞—Ä–∞—Ö–æ–≤–∞–Ω–æ ${amount} ‚Ç¥`, 'success');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä
                this.updateAdminUserSelect();
                return true;
            },
            
            removeMoneyFromUser(userId, amount) {
                const user = this.users.find(u => u.id === userId);
                if (!user) {
                    this.showNotification('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
                    return false;
                }
                
                if (user.balance < amount) {
                    this.showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤ –Ω–∞ —Ä–∞—Ö—É–Ω–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞', 'error');
                    return false;
                }
                
                user.balance -= amount;
                this.updateUserInStorage(user);
                
                this.showNotification(`–ó —Ä–∞—Ö—É–Ω–∫—É ${user.name} —Å–ø–∏—Å–∞–Ω–æ ${amount} ‚Ç¥`, 'success');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä
                this.updateAdminUserSelect();
                return true;
            },
            
            setupAdminUserButtons() {
                // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã
                document.querySelectorAll('.block-card').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const userId = e.target.closest('.block-card').getAttribute('data-user-id');
                        const user = this.users.find(u => u.id === userId);
                        
                        if (user && confirm(`–ó–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ${user.name}?`)) {
                            this.toggleCardBlock(userId, true);
                        }
                    });
                });
                
                // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã
                document.querySelectorAll('.unblock-card').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const userId = e.target.closest('.unblock-card').getAttribute('data-user-id');
                        const user = this.users.find(u => u.id === userId);
                        
                        if (user && confirm(`–†–æ–∑–±–ª–æ–∫—É–≤–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ${user.name}?`)) {
                            this.toggleCardBlock(userId, false);
                        }
                    });
                });
            },
            
            updateUserInStorage(user = null) {
                const userToUpdate = user || this.currentUser;
                const index = this.users.findIndex(u => u.id === userToUpdate.id);
                if (index !== -1) {
                    this.users[index] = userToUpdate;
                    this.saveUsers();
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ localStorage
                    if (!user) {
                        localStorage.setItem('fat_bank_active_user', JSON.stringify(userToUpdate));
                    }
                }
            },
            
            // PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
            initPWA() {
                // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º Service Worker
                if ('serviceWorker' in navigator) {
                    window.addEventListener('load', () => {
                        navigator.serviceWorker.register('/sw.js').catch(error => {
                            console.log('Service Worker registration failed:', error);
                        });
                    });
                }
                
                // –°–æ–∑–¥–∞–µ–º –º–∞–Ω–∏—Ñ–µ—Å—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
                this.createManifest();
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA
                this.setupPWAInstall();
            },
            
            createManifest() {
                const manifestData = {
                    name: "–§–∞—Ç –ë–∞–Ω–∫",
                    short_name: "–§–∞—Ç –ë–∞–Ω–∫",
                    description: "–°–∏–º—É–ª—è—Ç–æ—Ä –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π",
                    start_url: window.location.href,
                    display: "standalone",
                    background_color: "#0047ab",
                    theme_color: "#0047ab",
                    icons: [
                        {
                            src: "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/svgs/solid/university.svg",
                            sizes: "192x192",
                            type: "image/svg+xml"
                        },
                        {
                            src: "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/svgs/solid/university.svg",
                            sizes: "512x512",
                            type: "image/svg+xml"
                        }
                    ]
                };
                
                const manifestBlob = new Blob([JSON.stringify(manifestData)], { type: 'application/json' });
                const manifestURL = URL.createObjectURL(manifestBlob);
                
                const link = document.createElement('link');
                link.rel = 'manifest';
                link.href = manifestURL;
                document.head.appendChild(link);
            },
            
            setupPWAInstall() {
                let deferredPrompt;
                
                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    deferredPrompt = e;
                    this.showInstallButton();
                });
                
                document.getElementById('installButton').addEventListener('click', async () => {
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        const { outcome } = await deferredPrompt.userChoice;
                        if (outcome === 'accepted') {
                            this.showNotification('–î–æ–¥–∞—Ç–æ–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!', 'success');
                            this.hideInstallButton();
                        }
                        deferredPrompt = null;
                    }
                });
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ª–∏ —É–∂–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                if (window.matchMedia('(display-mode: standalone)').matches || 
                    window.navigator.standalone === true) {
                    this.hideInstallButton();
                }
            },
            
            showInstallButton() {
                const installButton = document.getElementById('installButton');
                installButton.classList.add('show');
            },
            
            hideInstallButton() {
                const installButton = document.getElementById('installButton');
                installButton.classList.remove('show');
            },
            
            showInstallInstructions() {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º –ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
                const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
                if (isMobile) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
                    setTimeout(() => {
                        this.showNotification('–î–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ —Ç–∞ –≤–∏–±–µ—Ä—ñ—Ç—å "–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫"', 'info');
                    }, 5000);
                }
            },
            
            setupEventListeners() {
                // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
                document.getElementById('loginTab').addEventListener('click', () => {
                    document.getElementById('loginTab').style.background = 'var(--primary)';
                    document.getElementById('loginTab').style.color = 'white';
                    document.getElementById('registerTab').style.background = 'var(--light)';
                    document.getElementById('registerTab').style.color = 'black';
                    document.getElementById('loginForm').style.display = 'block';
                    document.getElementById('registerForm').style.display = 'none';
                });
                
                document.getElementById('registerTab').addEventListener('click', () => {
                    document.getElementById('registerTab').style.background = 'var(--primary)';
                    document.getElementById('registerTab').style.color = 'white';
                    document.getElementById('loginTab').style.background = 'var(--light)';
                    document.getElementById('loginTab').style.color = 'black';
                    document.getElementById('registerForm').style.display = 'block';
                    document.getElementById('loginForm').style.display = 'none';
                });
                
                document.getElementById('loginForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    const email = document.getElementById('loginEmail').value;
                    const password = document.getElementById('loginPassword').value;
                    this.login(email, password);
                });
                
                document.getElementById('registerForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    const name = document.getElementById('registerName').value;
                    const email = document.getElementById('registerEmail').value;
                    const password = document.getElementById('registerPassword').value;
                    
                    if (password.length < 6) {
                        this.showNotification('–ü–∞—Ä–æ–ª—å –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ –º—ñ–Ω—ñ–º—É–º 6 —Å–∏–º–≤–æ–ª—ñ–≤', 'error');
                        return;
                    }
                    
                    this.register(name, email, password);
                });
                
                // –í—ã—Ö–æ–¥
                document.getElementById('logoutBtn').addEventListener('click', () => {
                    this.logout();
                });
                
                // –ù–∞–≤–∏–≥–∞—Ü–∏—è
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', () => {
                        const screen = item.getAttribute('data-screen');
                        this.showScreen(screen);
                    });
                });
                
                // –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
                document.querySelectorAll('button[data-screen]').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const screen = btn.getAttribute('data-screen');
                        this.showScreen(screen);
                    });
                });
                
                // –ö–ª–∏–∫–µ—Ä
                document.getElementById('clickerButton').addEventListener('click', () => {
                    this.handleClick();
                });
                
                // –ö—Ä–µ–¥–∏—Ç—ã
                document.getElementById('applyLoan').addEventListener('click', () => {
                    const amount = parseFloat(document.getElementById('loanAmount').value);
                    const term = document.getElementById('loanTerm').value;
                    
                    if (isNaN(amount) || amount < 100) {
                        this.showNotification('–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —Å—É–º–∞ –∫—Ä–µ–¥–∏—Ç—É - 100 ‚Ç¥', 'error');
                        return;
                    }
                    
                    this.applyLoan(amount, term);
                });
                
                // –ü–µ—Ä–µ–≤–æ–¥—ã
                document.getElementById('sendTransfer').addEventListener('click', () => {
                    const recipientCard = document.getElementById('recipientCard').value;
                    const amount = document.getElementById('transferAmount').value;
                    this.sendTransfer(recipientCard, amount);
                });
                
                // –ü–æ–¥–¥–µ—Ä–∂–∫–∞
                document.getElementById('sendSupport').addEventListener('click', () => {
                    const subject = document.getElementById('supportSubject').value;
                    const message = document.getElementById('supportMessage').value;
                    this.sendSupportRequest(subject, message);
                });
                
                // –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ç–∞–±—ã
                document.querySelectorAll('.admin-tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        const tabName = tab.getAttribute('data-admin-tab');
                        
                        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
                        document.querySelectorAll('.admin-section').forEach(section => {
                            section.classList.remove('active');
                        });
                        
                        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö —Ç–∞–±–æ–≤
                        document.querySelectorAll('.admin-tab').forEach(t => {
                            t.classList.remove('active');
                        });
                        
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é
                        document.getElementById(`admin${tabName.charAt(0).toUpperCase() + tabName.slice(1)}`).classList.add('active');
                        tab.classList.add('active');
                    });
                });
                
                // –ê–¥–º–∏–Ω —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
                document.getElementById('addMoneyBtn').addEventListener('click', () => {
                    const userId = document.getElementById('adminUserSelect').value;
                    const amount = parseFloat(document.getElementById('adminAmount').value);
                    
                    if (!userId) {
                        this.showNotification('–û–±–µ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞', 'error');
                        return;
                    }
                    
                    if (isNaN(amount) || amount <= 0) {
                        this.showNotification('–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—É —Å—É–º—É', 'error');
                        return;
                    }
                    
                    this.addMoneyToUser(userId, amount);
                });
                
                document.getElementById('removeMoneyBtn').addEventListener('click', () => {
                    const userId = document.getElementById('adminUserSelect').value;
                    const amount = parseFloat(document.getElementById('adminAmount').value);
                    
                    if (!userId) {
                        this.showNotification('–û–±–µ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞', 'error');
                        return;
                    }
                    
                    if (isNaN(amount) || amount <= 0) {
                        this.showNotification('–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—É —Å—É–º—É', 'error');
                        return;
                    }
                    
                    this.removeMoneyFromUser(userId, amount);
                });
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            BankApp.init();
        });
    </script>
</body>
</html>